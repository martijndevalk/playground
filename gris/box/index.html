<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Gris platform effect</title>

  <style type="text/css">
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #eee;
    }

    .box {
      width: 400px;
      height: 400px;
    }
    path {
      opacity: 0;
      visibility: hidden;
    }

  </style>

</head>
<body>

  <div class="box">
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 400 400">
    <defs>
      <pattern id="paint" patternUnits="userSpaceOnUse" width="400" height="400">
        <image xlink:href="pattern.jpg" x="0" y="0" width="400" height="400" />
      </pattern>
      <pattern id="dark" patternUnits="userSpaceOnUse" width="400" height="400">
        <image xlink:href="dark.jpg" x="0" y="0" width="400" height="400" />
      </pattern>
    </defs>
    <g>
      <path fill="url(#dark)" class="back" d="M209.1,2.82c2.44,0,2.78,0,4.9,0c-0.08,0.02-0.11,0.04-0.11,0.06c0,0.04,0.11,0.08-0.09,0.12c-3.93,0-5.39,0-7.06,0 c-1.48,0-3.11,0-6.77,0c-8.36,0-10.91,0-13.97,0c0.24-0.02,0.1-0.15,0.14-0.16c0.03,0,0.01-0.03,0.01-0.03s1.73,0,2.21,0 c0.62,0,10.67,0,13.19,0C204.35,2.82,206.31,2.82,209.1,2.82z"/>
    	<path fill="url(#paint)" class="front" d="M209.1,2.82c2.44,0,2.78,0,4.9,0c-0.08,0.02-0.11,0.04-0.11,0.06c0,0.04,0.11,0.08-0.09,0.12 c-3.93,0-5.39,0-7.06,0c-1.48,0-3.11,0-6.77,0c-8.36,0-10.91,0-13.97,0c0.24-0.02,0.1-0.15,0.14-0.16c0.03,0,0.01-0.03,0.01-0.03 s1.73,0,2.21,0c0.62,0,10.67,0,13.19,0C204.35,2.82,206.31,2.82,209.1,2.82z"/>
    </g>
  </svg>

  </div>

  <script src="js/gsap/minified/TweenMax.min.js"></script>
  <script src="js/gsap/minified/plugins/MorphSVGPlugin.min.js"></script>

  <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/findShapeIndex.js"></script>
  <script src="js/gsap/minified/utils/GSDevTools.min.js"></script>

  <script>

    const front = document.querySelector('.front')
    const back = document.querySelector('.back')
    const tl = new TimelineMax({
      repeat: -1
    });

    const frontStep1 = 'M209.1,2.82c2.44,0,2.78,0,4.9,0c-0.08,0.02-0.11,0.04-0.11,0.06c0,0.04,0.11,0.08-0.09,0.12 c-3.93,0-5.39,0-7.06,0c-1.48,0-3.11,0-6.77,0c-8.36,0-10.91,0-13.97,0c0.24-0.02,0.1-0.15,0.14-0.16c0.03,0,0.01-0.03,0.01-0.03 s1.73,0,2.21,0c0.62,0,10.67,0,13.19,0C204.35,2.82,206.31,2.82,209.1,2.82z';
    const frontStep2 = 'M330.04,5c34.85,0,39.71,0,69.96,0c-1.19,0.03-1.53,0.06-1.56,0.1c-0.05,0.07,1.53,0.14-1.3,0.21 c-56.12,0-77.07,0-100.88,0c-21.12,0-44.5,0-96.68,0c-119.42,0-155.8,0-199.59,0c3.47-0.03,1.37-0.25,2.04-0.26 C2.4,5.04,2.14,5,2.14,5S26.9,5,33.71,5c8.85,0,152.37,0,188.42,0C262.11,5,290.08,5,330.04,5z';
    const frontStep3 = 'M330.04,1.97c34.85-0.05,39.71,0,69.96,0.06c-1.19,2.31-1.53,4.56-1.56,6.78c-0.05,5.02,1.53,9.86-1.3,14.7 C349,163,299,19,268,16c-21.02-2.03-77,130-102,100C33.37-43.15,13,12,2,39C3,23,1.37,6.15,2.04,5.17c0.37-0.54,0.1-3.2,0.1-3.2 s24.76,0.01,31.57,0c8.85-0.01,152.37,0.01,188.42,0.03C262.11,2,290.08,2.02,330.04,1.97z';
    const frontStep4 = 'M330.04,1.99c34.85-0.11,39.71,0,69.96,0.12c-1.19,4.96-1.53,9.81-1.56,14.59 C398.39,27.49,397,161,387,246.02c-29,159.11-65,13.43-96,6.98c-21.02-4.38-55.12,29.79-125-5.8c-80-40.75-153-63.36-164-5.3 C3,207.49,1.37,10.98,2.04,8.88c0.37-1.16,0.1-6.89,0.1-6.89S26.9,2,33.71,1.99c8.85-0.02,152.37,0.03,188.42,0.06 C262.11,2.07,290.08,2.11,330.04,1.99z';
    const frontStep5 = 'M330.04,1.99c34.85-0.11,39.71,0,69.96,0.12c-1.19,4.96-1.53,9.81-1.56,14.59C398.39,27.49,394,298,396,394 c-55-11-81.01-14.64-110-14c-45,1-77,12-149,14c-89.75,2.49-124-58.06-135,0C3,359.6,1.37,10.98,2.04,8.88 c0.37-1.16,0.1-6.89,0.1-6.89S26.9,2,33.71,1.99c8.85-0.02,152.37,0.03,188.42,0.06C262.11,2.07,290.08,2.11,330.04,1.99z';
    const frontStep6 = 'M330.04,1.99c34.85-0.11,39.71,0,69.96,0.12c-1.19,4.96-1.53,9.81-1.56,14.59C398.39,27.49,394,298,396,394 c-56,0-74.01-0.64-103,0c-45,1-84-2-156,0c-89.75,2.49-84,6-135,0C3,359.6,1.37,10.98,2.04,8.88c0.37-1.16,0.1-6.89,0.1-6.89 S26.9,2,33.71,1.99c8.85-0.02,152.37,0.03,188.42,0.06C262.11,2.07,290.08,2.11,330.04,1.99z';

    const backStepBackward1 = 'M330.04,1.99c34.85-0.11,39.71,0,69.96,0.12c-1.19,4.96-1.53,9.81-1.56,14.59C398.39,27.49,394,298,396,394 c-69-17-96.57-69.62-108.16-93.84c-15.46-32.29-60.85-33.73-78.31-2.48C191.4,330.1,172.34,370.8,129,372 C39.25,374.49,53.02,140,2.02,134c1-34.4-0.65-123.02,0.02-125.12c0.37-1.16,0.1-6.89,0.1-6.89S26.9,2,33.71,1.99 c8.85-0.02,152.37,0.03,188.42,0.06C262.11,2.07,290.08,2.11,330.04,1.99z';
    const frontStepBackward1 = 'M330.04,1.99c34.85-0.11,39.71,0,69.96,0.12c-1.19,4.96-1.53,9.81-1.56,14.59C398.39,27.49,394,298,396,394 c-86-354-74.01-0.64-103,0c-45,1-118-275-190-273C13.25,123.49,53,400,2,394C3,359.6,1.37,10.98,2.04,8.88 c0.37-1.16,0.1-6.89,0.1-6.89S26.9,2,33.71,1.99c8.85-0.02,152.37,0.03,188.42,0.06C262.11,2.07,290.08,2.11,330.04,1.99z';

    const backStepBackward2 = 'M330.04,1.96c34.85-0.05,39.71,0,69.96,0.05c-1.19,2.18-1.53,4.3-1.56,6.4C398.39,13.15,394,45.88,396,88 c-58.22-70.05-69.27,75.9-116.72,46.36c-16.72-10.41-36.72-14.41-55.91-9.96c-72,16.7-42.37,75.6-117.37,75.6 C16.25,201.1,53,23.63,2,21C3,5.91,1.37,5.91,2.04,4.99c0.37-0.51,0.1-3.02,0.1-3.02s24.76,0.01,31.57,0 c8.85-0.01,152.37,0.01,188.42,0.02C262.11,2,290.08,2.02,330.04,1.96z';
    const frontStepBackward2 = 'M330.04,1.96c34.85-0.05,39.71,0,69.96,0.05c-1.19,2.18-1.53,4.3-1.56,6.4C398.39,13.15,394,45.88,396,88 c-64-77-97.01-75.28-126-75c-45,0.44-95,40.3-167,41.18C13.25,55.27,53,23.63,2,21C3,5.91,1.37,5.91,2.04,4.99 c0.37-0.51,0.1-3.02,0.1-3.02s24.76,0.01,31.57,0c8.85-0.01,152.37,0.01,188.42,0.02C262.11,2,290.08,2.02,330.04,1.96z';

    const backStepBackward3 = 'M330,3.97c34.86,0,39.71,0,70,0c-1.14,0.27-1.57,0.54-1.57,0.81c0,0.54,1.57,1.08-1.29,1.62c-56.14,0-77,0-100.86,0 c-21.14,0-44.43,0-96.71,0c-119.43,0-155.86,0-199.57,0c3.43-0.27,1.43-2.03,2-2.16c0.43,0,0.14-0.41,0.14-0.41s24.71,0,31.57,0 c8.86,0,152.43,0,188.43,0C262.14,3.97,290.14,3.97,330,3.97z';
    const frontStepBackward3 = 'M330.04,1.96c34.85-0.05,39.71,0,69.96,0.05c-1.19,2.18-1.53,4.3-1.56,6.4C398.39,13.15,398-40.12,400,2 C298,0,292.99,1.72,264,2c-45,0.44-79-0.88-151,0C23.25,3.09,53,4.63,2,2c1-15.09-0.63,3.91,0.04,2.99c0.37-0.51,0.1-3.02,0.1-3.02 s24.76,0.01,31.57,0c8.85-0.01,152.37,0.01,188.42,0.02C262.11,2,290.08,2.02,330.04,1.96z';

    const backStepBackward4 = 'M209.1,2.82c2.44,0,2.78,0,4.9,0c-0.08,0.02-0.11,0.04-0.11,0.06c0,0.04,0.11,0.08-0.09,0.12c-3.93,0-5.39,0-7.06,0 c-1.48,0-3.11,0-6.77,0c-8.36,0-10.91,0-13.97,0c0.24-0.02,0.1-0.15,0.14-0.16c0.03,0,0.01-0.03,0.01-0.03s1.73,0,2.21,0 c0.62,0,10.67,0,13.19,0C204.35,2.82,206.31,2.82,209.1,2.82z';
    const frontStepBackward4 = 'M211.35,1.96c3.06-0.05,3.49,0,6.15,0.05c-0.1,2.18-0.13,4.3-0.14,6.4c0,4.74-0.04-48.54,0.14-6.42 c-8.97-2-9.41-0.28-11.96,0c-3.96,0.44-6.94-0.88-13.27,0c-7.89,1.09-5.27,2.63-9.76,0c0.09-15.09-0.06,3.91,0,2.99 c0.03-0.51,0.01-3.02,0.01-3.02s2.18,0.01,2.78,0c0.78-0.01,13.4,0.01,16.56,0.02C205.38,2,207.84,2.02,211.35,1.96z';

    tl.to([front, back], 1, { autoAlpha: 1, morphSVG: frontStep1, ease: Power4.easeInOut }, 'step1')

      .to([front, back], 1, { morphSVG: frontStep2, ease: Power4.easeInOut }, 'step2')

      .to(front, 0.4, { morphSVG: frontStep3, ease: Power0.easeNone }, 'step3')
      .to(back, 0.4, { autoAlpha: 1, morphSVG: frontStep3, ease: Power0.easeNone }, 'step3')

      .to(front, 0.4, { morphSVG: frontStep4, ease: Power0.easeNone }, 'step4-=0.2')
      .to(back, 0.4, { morphSVG: frontStep4, ease: Power0.easeNone }, 'step4-=0.3')

      .to(front, 0.4, { morphSVG: frontStep5, ease: Power0.easeNone }, 'step5-=0.2')
      .to(back, 0.4, { morphSVG: frontStep5, ease: Power0.easeNone }, 'step5-=0.3')

      .to(front, 0.4, { morphSVG: frontStep6, ease: Power0.easeNone }, 'step6-=0.2')
      .to(back, 0.4, { morphSVG: frontStep6, ease: Power0.easeNone }, 'step6-=0.3')

      .to(front, 0.4, { morphSVG: frontStepBackward1, ease: Power0.easeNone, delay: 1 }, 'step7')
      .to(back, 0.4, { morphSVG: backStepBackward1, ease: Power0.easeNone, delay: 1 }, 'step7')

      .to(front, 0.4, { morphSVG: frontStepBackward2, ease: Power0.easeNone }, 'step8')
      .to(back, 0.4, { morphSVG: backStepBackward2, ease: Power0.easeNone }, 'step8')

      .to([front, back], 0.4, { morphSVG: frontStepBackward3, ease: Power0.easeNone }, 'step9')
      .to([front, back], 0.4, { autoAlpha: 0, morphSVG: frontStepBackward4, ease: Power0.easeNone }, 'step10');

    // GSDevTools.create();

  </script>

</body>
</html>
